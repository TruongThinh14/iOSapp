import SwiftUI
import MapKit

struct ItemDetailView: View {
    var item: Item
    @State private var region = MKCoordinateRegion(
        center: CLLocationCoordinate2D(latitude: 37.7749, longitude: -122.4194),
        span: MKCoordinateSpan(latitudeDelta: 0.05, longitudeDelta: 0.05)
    )
    
    var body: some View {
        ScrollView {
            VStack(alignment: .leading) {
                Image(item.image)
                    .resizable()
                    .aspectRatio(contentMode: .fit)
                
                Text(item.name)
                    .font(.largeTitle)
                    .padding(.bottom, 5)
                
                Text("Address: 123 Main Street, City, Country")
                    .font(.subheadline)
                    .padding(.bottom, 5)
                
                Text(item.description)
                    .font(.body)
                    .padding(.bottom, 5)
                
                Text("⭐️⭐️⭐️⭐️⭐️")
                    .font(.largeTitle)
                    .padding(.bottom, 5)
                
                Map(coordinateRegion: $region, annotationItems: [item]) { item in
                    MapPin(coordinate: region.center, tint: .red)
                }
                .frame(height: 300)
                .cornerRadius(10)
                .padding(.bottom, 10)
                
                Text("Image Gallery")
                    .font(.headline)
                    .padding(.bottom, 5)
                
                ScrollView(.horizontal) {
                    HStack {
                        ForEach(1..<6) { i in
                            Image("\(item.image)\(i)")
                                .resizable()
                                .aspectRatio(contentMode: .fit)
                                .frame(width: 200, height: 200)
                                .cornerRadius(10)
                        }
                    }
                }
            }
            .padding()
        }
        .navigationBarTitle(item.name, displayMode: .inline)
    }
}

struct ItemDetailView_Previews: PreviewProvider {
    static var previews: some View {
        ItemDetailView(item: Item(name: "Item 1", image: "item1", description: "Description of item 1"))
    }
}
