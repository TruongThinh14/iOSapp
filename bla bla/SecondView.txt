import SwiftUI

struct SecondView: View {
    @State private var searchText = ""
    @State private var isDarkMode = false
    @State private var items = [
        Item(name: "Item 1", image: "item1", description: "Description of item 1"),
        Item(name: "Item 2", image: "item2", description: "Description of item 2"),
        // Add more items here
    ]
    
    var filteredItems: [Item] {
        if searchText.isEmpty {
            return items
        } else {
            return items.filter { $0.name.contains(searchText) }
        }
    }

    var body: some View {
        NavigationView {
            VStack {
                Toggle(isOn: $isDarkMode) {
                    Text("Dark Mode")
                }
                .padding()
                .onChange(of: isDarkMode) { value in
                    UIApplication.shared.windows.first?.overrideUserInterfaceStyle = value ? .dark : .light
                }
                
                TextField("Search items", text: $searchText)
                    .padding()
                    .background(Color(.systemGray6))
                    .cornerRadius(8)
                    .padding(.horizontal)
                
                List(filteredItems) { item in
                    NavigationLink(destination: ItemDetailView(item: item)) {
                        HStack {
                            Image(item.image)
                                .resizable()
                                .aspectRatio(contentMode: .fit)
                                .frame(width: 50, height: 50)
                            VStack(alignment: .leading) {
                                Text(item.name)
                                    .font(.headline)
                                Text(item.description)
                                    .font(.subheadline)
                                    .foregroundColor(.gray)
                            }
                        }
                    }
                }
            }
            .navigationBarTitle("Items")
        }
    }
}

struct SecondView_Previews: PreviewProvider {
    static var previews: some View {
        SecondView()
    }
}
